<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>

<body>

  <div class="mcqbackground">
    <div class="heading">
      <span class="fontstyle mcqheading">Multiple Choice Questions</span>
    </div>
    <div class="card">
      <div class="pageNo">
        <span class="fontstyle pagenostyle" id="questionNo"></span>
      </div>
      <div class="question">
        <span class="fontstyle questionstyle" id="question"></span>
      </div>
      <div class="circle leftcircle">
      </div>

      <div class="line">
      </div>
      <div class="circle rightcircle">
      </div>
      <div class="options">
        <div class="optionbox optiona">
          <span class="fontstyle optionstyle" id="optiona">Hi. what is your Name and age? Kindly choose below answer</span>
        </div>
        <div class="optionbox optionb">
          <span class="fontstyle optionstyle" id="optionb">Hi. what is your Name and age? Kindly choose below answer</span>
        </div>
        <div class="optionbox optionc">
          <span class="fontstyle optionstyle" id="optionc">Hi. what is your Name and age? Kindly choose below answer</span>
        </div>
        <div class="optionbox optiond">
          <span class="fontstyle optionstyle" id="optiond">Hi. what is your Name and age? Kindly choose below answer</span>
        </div>
      </div>

    </div>
    <div class="footer">
      <div class="previousButton" id="prevButton">
        <span class="fontstyle previousbuttonstyle" id="previous">Previous</span>
      </div>
      <div class="timer">
        <span class="fontstyle timerstyle" id="time">15:00</span>
      </div>
      <div class="nextbutton">
        <span class="fontstyle nextbuttonstyle " id="next">Next</span>
      </div>
    </div>
  </div>
</body>




<!--
<script src="//code.jquery.com/jquery-1.6.2.min.js "></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript ">
  var result;
  var questionNoStart;
  var questionNoEnd;
  var dataposition;
  jsonObj = [];
  //  e.preventDefault();
  $(document).ready(function() {

    $('#previous').off('click');

    console.log('hey');
    console.log('first call from mcq app');

    function ajax() {
      return new Promise(function(resolve, reject) {
        $.ajax({
          type: 'GET',
          url: '/mcqFetching',
          // result = data;
          // console.log(data);
          success: function(data) {
            result = data;
            questionNoStart = 1;
            questionNoEnd = data.length;
            // console.log('result', result);
            resolve(data);
          },
          error: function(xhr) {
            reject(xhr)
          }
        });
      });
    }
    // console.log('result', result);
    //  ajax();
    ajax().then(function(data) {
      dataposition = 0;
      console.log('result', result);
      console.log('common data', data);
      $('#questionNo').html("Question " + questionNoStart + " out of " + questionNoEnd);
      $('#question').html(data[dataposition].question);

      $('#optiona').html(data[dataposition].optiona);
      $('#optionb').html(data[dataposition].optionb);
      $('#optionc').html(data[dataposition].optionc);
      $('#optiond').html(data[dataposition].optiond);

    }).catch(function(reason) {
      console.log('reason for rejection', reason)
    });
  });
  $('#next').click(function() {



    $('#previous').on('click', previousclick);

    console.log(questionNoStart);
    console.log(result.length - 1);


    if (questionNoStart == (result.length - 1)) {
      $('#next').html("submit");
    }

    dataposition += 1;
    questionNoStart += 1;


    $('#questionNo').html("Question " + questionNoStart + " out of " + questionNoEnd);
    $('#question').html(result[dataposition].question);

    $('#optiona').html(result[dataposition].optiona);
    $('#optionb').html(result[dataposition].optionb);
    $('#optionc').html(result[dataposition].optionc);
    $('#optiond').html(result[dataposition].optiond);





  });


  function previousclick() {
    $('#next').html("Next");
    console.log(questionNoStart);
    console.log(result.length - 1);
    if (questionNoStart == 2) {
      $('#previous').off('click');
    }
    dataposition -= 1;
    questionNoStart -= 1;

    $('#questionNo').html("Question " + questionNoStart + " out of " + questionNoEnd);
    $('#question').html(result[dataposition].question);

    $('#optiona').html(result[dataposition].optiona);
    $('#optionb').html(result[dataposition].optionb);
    $('#optionc').html(result[dataposition].optionc);
    $('#optiond').html(result[dataposition].optiond);




  }
  var j = 0;
  $('#optiona').click(function() {
    item = {};

    item["questionNo"] = questionNoStart;
    item["answer"] = "a";

    jsonObj.push(item);
    console.log(jsonObj);
  });
  $('#optionb').click(function() {
    item = {};

    item["questionNo"] = questionNoStart;
    item["answer"] = "b";

    jsonObj.push(item);
    console.log(jsonObj);
  });
  $('#optionc').click(function() {

    item["questionNo"] = questionNoStart;
    item["answer"] = "c";

    jsonObj.push(item);
  });
  $('#optiond').click(function() {

    item["questionNo"] = questionNoStart;
    item["answer"] = "d";

    jsonObj.push(item);
  });
</script>


</html>